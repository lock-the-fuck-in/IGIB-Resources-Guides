<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Max Gum - Student & Entrepreneur</title>

    <!-- Favicon Configuration -->
    <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon">
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    
    <!-- Load Tailwind CSS (Script-based) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Load Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet">

    <!-- Load Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

    <!-- Custom Tailwind Configuration (For layout utilities) -->
    <script>
        // FIX: Check if tailwind exists before configuring to prevent ReferenceError
        if (typeof tailwind !== 'undefined') {
            tailwind.config = {
                theme: {
                    extend: {
                        fontFamily: {
                            sans: ['Inter', 'sans-serif'],
                            serif: ['Playfair Display', 'serif'],
                        },
                        colors: {
                            'brand-dark': '#0a0a0a',
                            'brand-light': '#f5f5f5',
                            'brand-gray': '#888888',
                            'brand-accent': '#a88a53',
                            'duolingo-green': '#58cc02',
                        }
                        // Animations moved to CSS for reliability
                    }
                }
            }
        } else {
            console.warn("Tailwind CSS failed to load. Using fallback styles.");
        }
    </script>

    <!-- CORE STYLES (Works even if Tailwind fails) -->
    <style>
        /* Base Reset */
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(-45deg, #0a0a0a, #000000, #1a160f, #0a0a0a);
            background-size: 400% 400%;
            animation: animatedGradient 25s ease infinite;
            color: #f5f5f5;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        a { color: inherit; text-decoration: none; }
        
        /* Safety sizing for icons (Prevents the "Huge Logo" bug) */
        svg {
            max-width: 100%;
            vertical-align: middle;
        }
        .icon-safe {
            width: 2rem; /* 32px */
            height: 2rem;
        }
        .icon-small {
            width: 1.25rem; /* 20px */
            height: 1.25rem;
        }
        .icon-xs {
            width: 0.75rem; /* 12px */
            height: 0.75rem;
        }

        /* Animations */
        @keyframes animatedGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes fadeInDown {
            0% { opacity: 0; transform: translateY(-20px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeInUp {
            0% { opacity: 0; transform: translateY(30px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        @keyframes subtleGlow {
            0%, 100% { text-shadow: 0 0 8px rgba(168, 138, 83, 0.4), 0 0 12px rgba(168, 138, 83, 0.3); }
            50% { text-shadow: 0 0 12px rgba(168, 138, 83, 0.7), 0 0 20px rgba(168, 138, 83, 0.5); }
        }
        @keyframes floatUp {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        @keyframes floatDown {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(5px); }
        }
        @keyframes pulse-gold {
            0%, 100% { box-shadow: 0 0 5px rgba(168, 138, 83, 0.1), inset 0 0 0 1px rgba(168, 138, 83, 0.1); border-color: rgba(168, 138, 83, 0.3); }
            50% { box-shadow: 0 0 15px rgba(168, 138, 83, 0.3), inset 0 0 0 1px rgba(168, 138, 83, 0.5); border-color: rgba(168, 138, 83, 0.8); }
        }

        /* Animation Utility Classes */
        .animate-fade-in-down { animation: fadeInDown 1s ease-out forwards; }
        .animate-fade-in-up { animation: fadeInUp 1s ease-out forwards; }
        .animate-subtle-glow { animation: subtleGlow 4s ease-in-out infinite; }
        .animate-float-up { animation: floatUp 3.5s ease-in-out infinite; }
        .animate-float-down { animation: floatDown 3.5s ease-in-out infinite; }

        /* Header scroll effect */
        #main-header { transition: background-color 0.3s ease-in-out; }
        #main-header.scrolled {
            background-color: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding-top: 1rem;
            padding-bottom: 1rem;
        }

        /* Video & Hero Components */
        .hero-video-container {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; z-index: 0;
        }
        .hero-video { width: 100%; height: 100%; object-fit: cover; object-position: center; }
        .video-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); z-index: 1;
        }
        .hero-content { position: relative; z-index: 2; }
        
        #hero-section {
            -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 10%, black 90%, transparent 100%);
            mask-image: linear-gradient(to bottom, transparent 0%, black 10%, black 90%, transparent 100%);
        }

        /* UI Components */
        .animated-line {
            width: 0; height: 2px; background-color: #a88a53; transition: width 1s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .is-visible .animated-line { width: 100px; }

        .reveal {
            opacity: 0; transform: translateY(40px) scale(0.98);
            transition: opacity 1s cubic-bezier(0.25, 0.8, 0.25, 1), transform 1s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .is-visible { opacity: 1; transform: translateY(0) scale(1); }

        .profile-image-container {
            width: 200px; height: 200px; border-radius: 50%; background-color: #222;
            overflow: hidden; border: 4px solid #a88a53;
            box-shadow: 0 0 15px rgba(168, 138, 83, 0.3); margin-bottom: 2rem; position: relative;
        }
        .profile-image-container img { width: 100%; height: 100%; object-fit: cover; }

        /* Chatbot */
        .chat-widget-btn {
            position: fixed; bottom: 20px; right: 20px; width: 50px; height: 50px;
            background-color: #a88a53; border-radius: 50%; display: flex; align-items: center;
            justify-content: center; cursor: pointer; box-shadow: 0 4px 15px rgba(168, 138, 83, 0.4);
            transition: all 0.3s ease; z-index: 9999; border: 2px solid transparent;
        }
        .chat-widget-btn:hover { transform: scale(1.1); background-color: #c0a068; }
        @media (min-width: 640px) {
            .chat-widget-btn { width: 60px; height: 60px; bottom: 30px; right: 30px; }
        }
        
        .chat-window {
            position: fixed; bottom: 80px; right: 20px; width: min(350px, 90vw); height: 500px;
            max-height: 70vh; background-color: #0a0a0a; border: 1px solid #333; border-radius: 12px;
            display: flex; flex-direction: column; box-shadow: 0 10px 30px rgba(0,0,0,0.8);
            z-index: 9998; opacity: 0; transform: translateY(20px); pointer-events: none;
            transition: all 0.3s ease;
        }
        .chat-window.active { opacity: 1; transform: translateY(0); pointer-events: all; }
        @media (min-width: 640px) {
            .chat-window { bottom: 100px; right: 30px; max-height: 500px; }
        }

        .chat-header {
            padding: 15px; background-color: #111; border-bottom: 1px solid #333;
            border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center;
        }
        .chat-messages { flex: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
        .message { max-width: 80%; padding: 10px 15px; border-radius: 12px; font-size: 14px; line-height: 1.4; }
        .message.user { align-self: flex-end; background-color: #a88a53; color: #0a0a0a; border-bottom-right-radius: 2px; }
        .message.bot { align-self: flex-start; background-color: #222; color: #f5f5f5; border-bottom-left-radius: 2px; border: 1px solid #333; }
        
        .chat-input-area {
            padding: 15px; border-top: 1px solid #333; background-color: #111;
            border-radius: 0 0 12px 12px; display: flex; gap: 10px;
        }
        .chat-input {
            flex: 1; background: #0a0a0a; border: 1px solid #333; color: white;
            padding: 8px 12px; border-radius: 20px; outline: none;
        }
        .chat-input:focus { border-color: #a88a53; }
        .chat-send-btn { color: #a88a53; background: none; border: none; cursor: pointer; }
        .typing-indicator { font-size: 12px; color: #888; margin-top: 5px; display: none; }

        /* Components */
        .skill-badge {
            display: inline-block; padding: 8px 16px; font-size: 14px; font-weight: 500;
            background-color: #1a1a1a; color: #f5f5f5; border: 1px solid #333;
            border-radius: 20px; transition: all 0.3s ease;
        }
        .skill-badge:hover {
            border-color: #a88a53; color: #a88a53; transform: translateY(-3px);
            box-shadow: 0 4px 10px rgba(168, 138, 83, 0.1);
        }
        .activity-card {
            padding: 32px; border: 1px solid #222; background-color: #0a0a0a;
            border-radius: 12px; height: 100%; transition: all 0.3s ease-in-out;
        }
        .activity-card:hover {
            transform: translateY(-8px); border-color: #a88a53; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
        }
        .academic-card {
            padding: 24px; border: 1px solid #222; background-color: #0a0a0a;
            border-radius: 12px; height: 100%; transition: transform 0.3s ease;
            animation: pulse-gold 3s infinite ease-in-out; position: relative; overflow: visible;
        }
        .academic-card:hover { transform: translateY(-4px); }
        
        .contact-button {
            display: inline-block; background-color: #a88a53; color: #0a0a0a;
            padding: 16px 32px; font-weight: 700; text-decoration: none;
            border-radius: 8px; transition: all 0.3s ease; border: 2px solid #a88a53;
        }
        .contact-button:hover { background-color: transparent; color: #a88a53; }
        
        .contact-button-secondary {
            display: inline-block; background-color: transparent; color: #ffffff;
            padding: 16px 32px; font-weight: 700; text-decoration: none;
            border-radius: 8px; transition: all 0.3s ease; border: 2px solid #555;
        }
        .contact-button-secondary:hover { border-color: #a88a53; color: #a88a53; }
        
        .hero-btn:hover { transform: translateY(-2px); }

        /* Extras */
        .falling-star {
            position: absolute; width: 2px; height: 2px; background-color: #a88a53;
            border-radius: 50%; pointer-events: none; opacity: 0;
            box-shadow: 0 0 4px #a88a53; z-index: 10; animation: fall-fade 1.2s linear forwards;
        }
        @keyframes fall-fade {
            0% { transform: translateY(0); opacity: 0.8; }
            100% { transform: translateY(30px); opacity: 0; }
        }
        .duo-particle {
            position: absolute; width: 4px; height: 4px; background-color: #58cc02;
            border-radius: 50%; pointer-events: none; z-index: 20; opacity: 0.8;
            animation: fade-out-move 0.5s linear forwards;
        }
        @keyframes fade-out-move {
            0% { transform: translate(0, 0); opacity: 0.8; }
            100% { transform: translate(10px, -5px); opacity: 0; }
        }
    </style>
</head>
<body class="font-sans antialiased text-base sm:text-lg">

    <!-- Header / Navigation -->
    <header id="main-header" class="fixed top-0 left-0 w-full p-6 sm:p-8 z-50">
        <div class="container mx-auto max-w-6xl flex justify-between items-center">
            <a href="#" class="font-serif text-2xl font-bold text-white transition-colors hover:text-brand-accent">MG/</a>
            <nav class="hidden md:flex space-x-8">
                <a href="#about" class="text-white opacity-80 hover:opacity-100 hover:text-brand-accent transition-all">About</a>
                <a href="#education" class="text-white opacity-80 hover:opacity-100 hover:text-brand-accent transition-all">Education</a>
                <a href="#ventures" class="text-white opacity-80 hover:opacity-100 hover:text-brand-accent transition-all">Ventures</a>
                <a href="#activities" class="text-white opacity-80 hover:opacity-100 hover:text-brand-accent transition-all">Activities</a>
                <a href="#contact" class="text-white opacity-80 hover:opacity-100 hover:text-brand-accent transition-all">Contact</a>
            </nav>
            <!-- Mobile Menu Button -->
            <button id="menu-btn" class="md:hidden text-white z-50">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                </svg>
            </button>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed top-0 left-0 w-full h-full bg-brand-dark flex flex-col justify-center items-center space-y-8 z-40 transform -translate-x-full transition-transform duration-300 ease-in-out">
        <a href="#about" class="mobile-link text-3xl font-serif text-white hover:text-brand-accent">About</a>
        <a href="#education" class="mobile-link text-3xl font-serif text-white hover:text-brand-accent">Education</a>
        <a href="#ventures" class="mobile-link text-3xl font-serif text-white hover:text-brand-accent">Ventures</a>
        <a href="#activities" class="mobile-link text-3xl font-serif text-white hover:text-brand-accent">Activities</a>
        <a href="#contact" class="mobile-link text-3xl font-serif text-white hover:text-brand-accent">Contact</a>
    </div>

    <!-- Hero Section -->
    <section id="hero-section" class="h-screen min-h-[500px] sm:min-h-[700px] w-full flex flex-col justify-center items-center p-6 sm:p-8 relative overflow-hidden">
        <div class="hero-video-container">
            <video class="hero-video" 
                   poster="https://placehold.co/1920x1080/0a0a0a/111111?text=Loading+Video..." 
                   autoplay loop muted playsinline
                   src="assets/video-loop.mp4">
            </video>
            <div class="video-overlay"></div>
        </div>

        <div class="hero-content container mx-auto max-w-6xl text-center">
            <h1 class="font-serif text-5xl sm:text-7xl md:text-9xl font-bold text-white animate-fade-in-down animate-subtle-glow" style="animation-delay: 0.2s;">
                <span class="inline-block animate-float-up">Max</span>
                <span class="inline-block animate-float-down">Gum</span>
            </h1>
            <p class="font-sans text-lg sm:text-xl md:text-2xl text-brand-light opacity-90 animate-fade-in-down mb-8 mt-4" style="animation-delay: 0.5s;">
                Student Entrepreneur. Founder. Engineer in Training.
            </p>
            
            <div class="flex flex-col sm:flex-row justify-center gap-4 animate-fade-in-up" style="animation-delay: 0.8s;">
                <a href="https://www.linkedin.com/in/maxgum/" target="_blank" rel="noopener noreferrer" 
                   class="hero-btn group relative px-8 py-3 overflow-hidden font-bold rounded-full bg-white text-brand-dark shadow-lg transition-all hover:bg-brand-accent hover:text-white text-center">
                    <span class="relative z-10 flex items-center justify-center gap-2">
                        <svg class="w-5 h-5 icon-small" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.85-3.037-1.85 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.557V9h3.562v11.452zM22.225 0H1.771C.79 0 0 .774 0 1.729v20.542C0 23.227.79 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"></path></svg>
                        LinkedIn
                    </span>
                </a>
                <a href="https://migmag-hvac-and-elevator.dorik.io/" target="_blank" rel="noopener noreferrer" 
                   class="hero-btn group relative px-8 py-3 overflow-hidden font-bold rounded-full border-2 border-brand-accent text-brand-accent shadow-lg transition-all hover:bg-brand-accent hover:text-brand-dark text-center">
                    <span class="relative z-10">Visit Migmag</span>
                </a>
            </div>
        </div>
        
        <div class="hero-content absolute bottom-10 left-1/2 -translate-x-1/2 animate-fade-in-down" style="animation-delay: 1s;">
            <a href="#about" class="text-white">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 icon-safe animate-bounce">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                </svg>
            </a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-20 md:py-32 px-6 sm:px-8">
        <div class="container mx-auto max-w-6xl">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-16">
                <div class="md:col-span-1 reveal flex flex-col items-center md:items-start">
                    <div class="profile-image-container">
                        <img src="assets/profile-image.jpg" 
                             alt="Max Gum profile picture"
                             onerror="this.src='https://placehold.co/200x200/1a1a1a/333333?text=Image+Error';">
                    </div>
                    <h2 class="font-serif text-4xl font-bold text-white mb-4 text-center md:text-left">About Me</h2>
                    <div class="animated-line"></div>
                </div>

                <div class="md:col-span-2 reveal" style="transition-delay: 0.2s;">
                    <p class="text-base sm:text-lg md:text-xl text-brand-light mb-6 leading-relaxed">
                        An ambitious and disciplined student from Poland, I'm a graduate of the International Baccalaureate (IB) program now pursuing a Bachelor's degree in Electrical Engineering at Warsaw University of Technology. My studies are my foundation, but my focus extends sharply into business, entrepreneurship, and sales.
                    </p>
                    <p class="text-base sm:text-lg md:text-xl text-brand-light mb-6 leading-relaxed">
                        Born in Warsaw, my global journey began early. I spent five years in New York City before returning to Poland and later moving to Istanbul. There, I attended a private British school, an experience that broadened my horizons and introduced me to diverse industries. This exposure inspired me to take my first bold step: launching my own venture, Migmag.
                    </p>
                    <p class="text-base sm:text-lg md:text-xl text-brand-light leading-relaxed">
                        I am committed to developing real-world skills, taking initiative, and turning ideas into action. Whether in my engineering studies, my entrepreneurial projects, or my athletic pursuits, I am always pushing to grow, improve, and go beyond my comfort zones.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Education Section -->
    <section id="education" class="py-20 px-6 sm:px-8 bg-gradient-to-b from-transparent via-black/50 to-transparent">
        <div class="container mx-auto max-w-6xl">
            <div class="reveal mb-12 text-center">
                <div class="inline-block p-3 rounded-full border-2 border-brand-accent mb-4 text-brand-accent">
                     <!-- ADDED icon-safe class -->
                     <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 icon-safe">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4.26 10.147a60.436 60.436 0 0 0-.491 6.347A48.627 48.627 0 0 1 12 20.904a48.627 48.627 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.57 50.57 0 0 0-2.658-.813A59.905 59.905 0 0 1 12 3.493a59.902 59.902 0 0 1 10.499 5.216 50.552 50.552 0 0 0-2.658.814m-15.482 0A50.55 50.55 0 0 1 12 13.489a50.55 50.55 0 0 1 6.466-1.254m-12.552 0a50.55 50.55 0 0 1-6.61 1.612m6.61-1.612A59.9 59.9 0 0 1 12 13.489a59.9 59.9 0 0 1 5.38-1.726m-5.38 1.726a25.5 25.5 0 0 1-2.577 3.916m2.577-3.916a25.5 25.5 0 0 0 2.577 3.916" />
                      </svg>
                </div>
                <h2 id="academic-heading" class="font-serif text-4xl font-bold text-white mb-2">Academic Background</h2>
                <div class="w-20 h-1 bg-brand-accent mx-auto mt-4"></div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- BISI -->
                <div class="reveal academic-card" style="transition-delay: 0.2s;">
                    <h3 class="font-serif text-xl text-white mb-2">British Int. School Istanbul</h3>
                    <p class="text-brand-accent font-bold mb-4">2019 - 2025</p>
                    <p class="text-brand-gray mb-4 text-sm leading-relaxed">
                        Achieved top 10% global results in the International Baccalaureate (IB) program (2025). Successfully completed IGCSEs in 2023 with distinction.
                    </p>
                    <a href="https://www.bisistanbul.org/" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-xs font-bold text-white hover:text-brand-accent transition-colors">
                        Visit Website 
                        <svg class="w-3 h-3 ml-2 icon-xs" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                    </a>
                </div>

                <!-- WUT -->
                <div class="reveal academic-card" style="transition-delay: 0.4s;">
                    <h3 class="font-serif text-xl text-white mb-2">Warsaw Univ. of Technology</h3>
                    <p class="text-brand-accent font-bold mb-4">Current</p>
                    <p class="text-brand-gray mb-4 text-sm leading-relaxed">
                        Pursuing a Bachelor's degree in Electrical Engineering at Poland's premier technical university. Focusing on advanced hardware systems.
                    </p>
                    <a href="https://www.pw.edu.pl/engpw" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-xs font-bold text-white hover:text-brand-accent transition-colors">
                        Visit Website
                        <svg class="w-3 h-3 ml-2 icon-xs" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                    </a>
                </div>
                
                <!-- Spanish DELE B1 -->
                <div class="reveal academic-card" style="transition-delay: 0.6s;">
                    <h3 class="font-serif text-xl text-white mb-2">Spanish DELE Certification</h3>
                    <p class="text-brand-accent font-bold mb-4">2024 - Level B1</p>
                    <p class="text-brand-gray mb-4 text-sm leading-relaxed">
                        Achieved B1 fluency in the DELE program, demonstrating intermediate competence and ability to navigate diverse situations in Spanish.
                    </p>
                    
                    <!-- Duolingo Progress Bar -->
                    <div class="mt-4 relative">
                         <div class="flex justify-between text-xs text-white mb-1">
                             <span class="font-bold text-duolingo-green">Duolingo</span>
                             <span><span id="duolingo-streak-display">Streak: 800+</span> <span class="text-gray-500 ml-1">(Top 0.1%)</span></span> 
                         </div>
                         <div class="relative w-full bg-gray-800 rounded-full h-3 border border-gray-700" id="progress-container">
                             <div id="duolingo-progress-fill" class="bg-duolingo-green h-3 rounded-full transition-all ease-out" style="width: 0%;"></div>
                         </div>
                         <div id="duolingo-score-text" class="text-right text-xs text-gray-500 mt-1">Score: 105/160 (Top 3%)</div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Ventures & Focus Section -->
    <section id="ventures" class="py-20 md:py-32 px-6 sm:px-8">
        <div class="container mx-auto max-w-6xl">
            <div class="reveal mb-12">
                <h2 class="font-serif text-4xl font-bold text-white mb-4">Ventures & Focus</h2>
                <div class="animated-line"></div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
                <div class="md:col-span-1">
                    <h3 class="font-serif text-3xl text-white">Migmag</h3>
                    <span class="text-brand-gray text-lg">Founder & CEO</span>
                </div>
                <div class="md:col-span-2">
                    <p class="text-lg sm:text-xl text-brand-light mb-6 leading-relaxed">
                        As the founder of Migmag, I specialize in social media business advertisement and lead generation. My mission is to empower smaller businesses, enabling them to thrive and make a lasting impact within their industries.
                    </p>
                    <div class="flex flex-wrap gap-3">
                        <span class="skill-badge">Social Media Marketing</span>
                        <span class="skill-badge">Lead Generation</span>
                        <span class="skill-badge">FB Advertise</span>
                        <span class="skill-badge">Email Copywriting</span>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="md:col-span-1">
                    <h3 class="font-serif text-3xl text-white">Enactus PW</h3>
                    <span class="text-brand-gray text-lg">Project Leader</span>
                </div>
                <div class="md:col-span-2">
                    <p class="text-lg sm:text-xl text-brand-light mb-6 leading-relaxed">
                        As an active member and project leader at Enactus PW, I develop innovative projects that have a real-world impact. This role sharpens my leadership skills and allows me to apply entrepreneurial thinking to solve complex challenges.
                    </p>
                    <div class="flex flex-wrap gap-3">
                        <span class="skill-badge">Project Management</span>
                        <span class="skill-badge">Leadership</span>
                        <span class="skill-badge">Social Entrepreneurship</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Activities Section -->
    <section id="activities" class="py-20 md:py-32 px-6 sm:px-8">
        <div class="container mx-auto max-w-6xl">
            <div class="reveal mb-12">
                <h2 class="font-serif text-4xl font-bold text-white mb-4">Activities & Societies</h2>
                <div class="animated-line"></div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="reveal activity-card" style="transition-delay: 0.3s;">
                    <h3 class="font-serif text-2xl text-white mb-2">Technology Specialization</h3>
                    <p class="text-brand-gray">Engaged in tech since 2019, with <span id="tech-duration" class="font-bold text-brand-light"></span>+ years of experience. Began with 3D animation, Java, and Python before shifting to hardware, inspiring my focus in electrical engineering.</p>
                </div>
                <div class="reveal activity-card" style="transition-delay: 0.4s;">
                    <h3 class="font-serif text-2xl text-white mb-2">Competitive Swimming</h3>
                    <p class="text-brand-gray">Dedicating <span class="font-bold text-brand-light">3+</span> years to high-level competition, forging endurance and a relentless pursuit of performance.</p>
                </div>
                <div class="reveal activity-card" style="transition-delay: 0.5s;">
                    <h3 class="font-serif text-2xl text-white mb-2">Strength & Fitness</h3>
                    <p class="text-brand-gray">Committed to <span id="gym-duration" class="font-bold text-brand-light"></span>+ years of rigorous strength training, building a foundation of power and peak physical condition.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 md:py-32 px-6 sm:px-8">
        <div class="container mx-auto max-w-3xl text-center">
            <div class="reveal mb-10">
                <h2 class="font-serif text-4xl sm:text-5xl font-bold text-white mb-4">Get in Touch</h2>
                <p class="text-lg sm:text-xl text-brand-gray leading-relaxed">
                    Let's connect. I'm always open to discussing new projects, creative ideas, or opportunities to be part of your vision.
                </p>
            </div>

            <div class="flex flex-col sm:flex-row justify-center gap-4 reveal" style="transition-delay: 0.3s;">
                <!-- FIXED: Updated email address -->
                <a href="mailto:migmagsocial@gmail.com" class="contact-button">Drop a message</a>
                <a href="https://calendly.com/migmag/discoverycall" target="_blank" rel="noopener noreferrer" class="contact-button-secondary">Book a Call</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-12 px-6 sm:px-8">
        <div class="container mx-auto max-w-6xl flex flex-col sm:flex-row justify-between items-center text-center">
            <p class="text-brand-gray mb-4 sm:mb-0 text-sm sm:text-base">&copy; <span id="current-year"></span> Max Gum. All rights reserved.</p>
            <div class="flex space-x-6 items-center justify-center mt-4 sm:mt-0">
                <a href="https://www.linkedin.com/in/maxgum/" target="_blank" rel="noopener noreferrer" class="text-brand-gray hover:text-brand-accent transition-colors">
                    <svg class="w-6 h-6 icon-safe" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" clip-rule="evenodd"/>
                    </svg>
                    <span class="sr-only">LinkedIn</span>
                </a>
            </div>
        </div>
    </footer>

    <!-- Floating Chat Widget -->
    <div id="chat-widget-btn" class="chat-widget-btn">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="white" class="w-8 h-8 icon-safe">
          <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z" />
        </svg>
    </div>

    <div id="chat-window" class="chat-window">
        <div class="chat-header">
            <span class="text-white font-bold text-lg">Max's Assistant</span>
            <button id="close-chat" class="text-gray-400 hover:text-white">&times;</button>
        </div>
        <div id="chat-messages" class="chat-messages">
            <div class="message bot">Hello! How can I help you? I can provide Max's email or basic info.</div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="chat-input" class="chat-input" placeholder="Type a question...">
            <button id="chat-send-btn" class="chat-send-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 icon-small">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6 12 3.269 3.126A59.768 59.768 0 0 1 21.485 12 59.77 59.77 0 0 1 3.27 20.876L5.999 12Zm0 0h7.5" />
                </svg>
            </button>
        </div>
        <div id="typing-indicator" class="typing-indicator pl-4 pb-2">Assistant is typing...</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            // Set Current Year in Footer
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // --- MANUAL DUOLINGO CONFIGURATION ---
            const DUOLINGO_STREAK = "800+";
            const DUOLINGO_CURRENT_SCORE = 105;
            const DUOLINGO_MAX_SCORE = 160;
            
            const scorePercentage = (DUOLINGO_CURRENT_SCORE / DUOLINGO_MAX_SCORE) * 100;
            
            const streakDisplay = document.getElementById('duolingo-streak-display');
            const progressFill = document.getElementById('duolingo-progress-fill');
            const scoreText = document.getElementById('duolingo-score-text');
            const progressContainer = document.getElementById('progress-container');
            
            if (streakDisplay) streakDisplay.textContent = "Streak: " + DUOLINGO_STREAK;
            if (scoreText) scoreText.textContent = "Score: " + DUOLINGO_CURRENT_SCORE + "/" + DUOLINGO_MAX_SCORE + " (Top 3%)";

            // --- Calculate Durations ---
            function calculateDuration(startDate) {
                const start = new Date(startDate);
                const now = new Date();
                const totalMonths = (now.getFullYear() - start.getFullYear()) * 12 + (now.getMonth() - start.getMonth());
                const years = totalMonths / 12;
                const duration = Math.round(years * 2) / 2;
                return duration.toString();
            }
            const gymDuration = calculateDuration('2023-06-01');
            const techDuration = calculateDuration('2019-01-01');
            document.getElementById('gym-duration').textContent = gymDuration;
            document.getElementById('tech-duration').textContent = techDuration;

            // Header Scroll Effect
            const header = document.getElementById('main-header');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });

            // Mobile Menu Toggle
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileLinks = document.querySelectorAll('.mobile-link');

            menuBtn.addEventListener('click', () => { mobileMenu.classList.toggle('-translate-x-full'); });
            mobileLinks.forEach(link => {
                link.addEventListener('click', () => { mobileMenu.classList.add('-translate-x-full'); });
            });

            // Scroll Animations
            const revealElements = document.querySelectorAll('.reveal');
            const generalObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    } else {
                        if (entry.boundingClientRect.top > 0) {
                            entry.target.classList.remove('is-visible');
                        }
                    }
                });
            }, { threshold: 0.1 });
            revealElements.forEach(el => { generalObserver.observe(el); });
            
            // FIX: Confetti & Duolingo Animation (Using IntersectionObserver for mobile support)
            // Replaced previous 'mouseenter' event listener with this block.
            const educationSection = document.getElementById('education');
            let confettiFired = false;

            const educationObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !confettiFired) {
                        confettiFired = true; // Ensure it only runs once
                        
                        // 1. Fire Confetti
                        if (window.confetti) {
                            var end = Date.now() + (1.5 * 1000); 
                            var colors = ['#a88a53', '#f5f5f5'];
                            (function frame() {
                              confetti({ particleCount: 2, angle: 60, spread: 55, origin: { x: 0 }, colors: colors, scalar: 0.8, drift: 0.5, gravity: 0.8 });
                              confetti({ particleCount: 2, angle: 120, spread: 55, origin: { x: 1 }, colors: colors, scalar: 0.8, drift: -0.5, gravity: 0.8 });
                              if (Date.now() < end) { requestAnimationFrame(frame); }
                            }());
                        }
                        
                        // 2. Animate Duolingo Bar
                        if (progressFill) {
                            progressFill.style.width = "0%";
                            progressFill.style.transition = "none";
                            void progressFill.offsetWidth;
                            
                            progressFill.style.transition = "width 1.5s ease-out";
                            progressFill.style.width = scorePercentage + "%";
                            
                            const duration = 1500;
                            const startTime = Date.now();
                            
                            function spawnParticles() {
                                const elapsed = Date.now() - startTime;
                                if (elapsed < duration) {
                                    const currentWidth = parseFloat(window.getComputedStyle(progressFill).width);
                                    const totalWidth = parseFloat(window.getComputedStyle(progressContainer).width);
                                    if (totalWidth > 0) {
                                        const currentPercent = (currentWidth / totalWidth) * 100;
                                        if (Math.random() > 0.5) {
                                            const particle = document.createElement('div');
                                            particle.classList.add('duo-particle');
                                            particle.style.left = currentPercent + "%";
                                            particle.style.top = (Math.random() * 10 - 2) + "px"; 
                                            progressContainer.appendChild(particle);
                                            setTimeout(() => { particle.remove(); }, 500);
                                        }
                                    }
                                    requestAnimationFrame(spawnParticles);
                                }
                            }
                            spawnParticles();
                        }
                        
                        // Stop observing after triggering
                        educationObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.3 }); // Trigger when 30% of the section is visible

            if (educationSection) {
                educationObserver.observe(educationSection);
            }
            
            // Falling Stars Sprinkle Logic
            const academicCards = document.querySelectorAll('.academic-card');
            function createStar(card) {
                const star = document.createElement('div');
                star.classList.add('falling-star');
                const xPos = Math.random() * 100; 
                star.style.left = xPos + '%';
                star.style.bottom = '-2px'; 
                card.appendChild(star);
                setTimeout(() => { star.remove(); }, 1200);
            }
            setInterval(() => {
                academicCards.forEach(card => {
                    if (Math.random() > 0.7) createStar(card);
                });
            }, 400);

            // Chatbot Logic
            const chatBtn = document.getElementById('chat-widget-btn');
            const chatWindow = document.getElementById('chat-window');
            const closeChat = document.getElementById('close-chat');
            const chatInput = document.getElementById('chat-input');
            const chatSend = document.getElementById('chat-send-btn');
            const chatMessages = document.getElementById('chat-messages');
            const typingIndicator = document.getElementById('typing-indicator');

            const API_KEY = ""; 
            const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${API_KEY}`;

            const SYSTEM_PROMPT = `You are a helpful assistant for Max Gum's personal portfolio website...`; 

            function toggleChat() { chatWindow.classList.toggle('active'); }

            function appendMessage(text, sender) {
                const msgDiv = document.createElement('div');
                msgDiv.classList.add('message', sender);
                msgDiv.textContent = text;
                chatMessages.appendChild(msgDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            function getBotResponse(input) {
                const lowerInput = input.toLowerCase();
                if (lowerInput.includes('email') || lowerInput.includes('mail')) {
                    return "You can reach Max at migmagsocial@gmail.com or max.gum@migmag.pl.";
                } else if (lowerInput.includes('linkedin')) {
                    return "Max's LinkedIn is: https://www.linkedin.com/in/maxgum/";
                } else {
                    return "I'm a basic assistant. I can tell you about Max's email, LinkedIn, education, or Migmag.";
                }
            }

            async function handleUserMessage() {
                const text = chatInput.value.trim();
                if (!text) return;
                appendMessage(text, 'user');
                chatInput.value = '';
                typingIndicator.style.display = 'block';

                if (!API_KEY) {
                    setTimeout(() => {
                        typingIndicator.style.display = 'none';
                        const reply = getBotResponse(text);
                        appendMessage(reply, 'bot');
                    }, 600);
                    return;
                }

                try {
                    const payload = {
                        contents: [{ role: "user", parts: [{ text: text }] }],
                        systemInstruction: { parts: [{ text: SYSTEM_PROMPT }] }
                    };
                    const response = await fetch(API_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const data = await response.json();
                    const reply = data.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't process that.";
                    typingIndicator.style.display = 'none';
                    appendMessage(reply, 'bot');
                } catch (error) {
                    console.error(error);
                    typingIndicator.style.display = 'none';
                    appendMessage("Sorry, something went wrong with the connection.", 'bot');
                }
            }

            chatBtn.addEventListener('click', toggleChat);
            closeChat.addEventListener('click', toggleChat);
            chatSend.addEventListener('click', handleUserMessage);
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleUserMessage();
            });
        });
    </script>

</body>
</html>
